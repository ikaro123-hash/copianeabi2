{% load static %}

<article
  class="bg-white rounded-lg shadow-sm hover:shadow-lg transition-shadow overflow-hidden"
>
  <div
    class="aspect-video bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center relative overflow-hidden"
  >
    {% if post.image %}
    <img
      src="{{ post.image.url }}"
      alt="{{ post.title }}"
      class="w-full h-full object-cover"
    />
    {% else %}
    <div
      class="w-12 h-12 bg-amber-600 rounded-full flex items-center justify-center"
    >
      <svg class="h-6 w-6 text-white" fill="currentColor" viewBox="0 0 20 20">
        <path d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"></path>
      </svg>
    </div>
    {% endif %} {% if featured %}
    <span
      class="absolute top-4 left-4 bg-red-600 text-white px-2 py-1 rounded text-xs"
    >
      Destaque
    </span>
    {% endif %}
  </div>

  <div class="p-6">
    <div class="flex justify-between items-start mb-2">
      <span
        class="inline-block px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded"
      >
        {{ post.category.name }}
      </span>
      <div class="flex items-center gap-3 text-xs text-gray-500">
        <div class="flex items-center gap-1">
          <svg class="h-3 w-3" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path>
            <path
              fill-rule="evenodd"
              d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z"
              clip-rule="evenodd"
            ></path>
          </svg>
          {{ post.views|floatformat:0 }}
        </div>
        <div class="flex items-center gap-1">
          <svg class="h-3 w-3" fill="currentColor" viewBox="0 0 20 20">
            <path
              fill-rule="evenodd"
              d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"
              clip-rule="evenodd"
            ></path>
          </svg>
          {{ post.likes }}
        </div>
      </div>
    </div>

    <h3
      class="text-lg font-semibold leading-tight hover:text-amber-600 transition-colors mb-2"
    >
      <a href="{{ post.get_absolute_url }}">{{ post.title }}</a>
    </h3>

    <p class="text-sm text-gray-600 mb-2">
      Por {{ post.author.get_full_name|default:post.author.username }} • {{
      post.published_date|date:"d \de F \de Y" }}
    </p>

    <p class="text-gray-600 mb-4 text-sm">
      {{ post.excerpt|truncatewords:20 }}
    </p>

    <div class="flex justify-between items-center">
      <div class="flex items-center gap-2 text-xs text-gray-500">
        <svg class="h-3 w-3" fill="currentColor" viewBox="0 0 20 20">
          <path
            fill-rule="evenodd"
            d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
            clip-rule="evenodd"
          ></path>
        </svg>
        {{ post.read_time }}
      </div>
      <a
        href="{{ post.get_absolute_url }}"
        class="text-amber-600 hover:text-amber-700 text-xs font-medium"
      >
        Ler mais →
      </a>
    </div>
  </div>
</article>
